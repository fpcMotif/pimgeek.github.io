<html>

<head>
  <meta charset="utf-8" />
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/2.2.26/rx.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/2.2.26/rx.async.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/2.2.26/rx.coincidence.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/2.2.26/rx.binding.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/2.2.26/rx.time.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs-dom/2.0.7/rx.dom.js"></script>
</head>

<body>
  <textarea id="input"></textarea>
  <textarea id="output"></textarea>
  <script type="text/javascript">
  var inputPort = document.querySelector('#input');
  var outputPort = document.querySelector('#output');
  var inputStream = Rx.Observable.fromEvent(inputPort, 'input');

  var readInputStream = inputStream.startWith('start input')
    .map(function() {
      return inputPort.value;
    });
  var outputStream = readInputStream;
  var subscription = outputStream.subscribe(
    function(val) {
      outputPort.value = val;
    },
    function(err) {
      console.log('出错啦: ' + err);
    },
    function() {
      console.log('完成啦。');
    });
  </script>
</body>

</html>
