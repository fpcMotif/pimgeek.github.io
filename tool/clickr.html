<html>

<head>
  <meta charset="utf-8">
  <script>
  <!--
  var clicks = 0;

  function addOne() {
    clicks = clicks + 1;
    document.getElementById('counted-clicks').innerHTML = clicks + ' 次点击';
  }
  window.onbeforeunload = function(e) {
      var e = e || window.event;
      currNum = document.getElementById('counted-clicks').innerHTML.split(' ')[0];
      alertMsg = "请确认当前点击总数：" + currNum;
      if (e) {
        e.returnValue = alertMsg;
      } else {
        return alertMsg;
      }
    }
    // -->
  </script>
  <style type="text/css">
  #panel {
    text-align: center;
  }

  #counted-clicks {
    font-size: 128px;
    text-align: center;
    line-height: 180%;
  }

  #click-button {
    font-weight: bolder;
    font-family: serif;
    width: 75%;
    height: 30%;
    font-size: 128px;
    border: 1px solid dimgray;
    border-radius: 15px;
  }
  </style>
</head>

<body>
  <div id="panel">
    <div id="counted-clicks">0 次点击</div>
    <br />
    <button id="click-button" onclick="addOne();">点击后 +1</button>
  </div>
</body>

</html>
